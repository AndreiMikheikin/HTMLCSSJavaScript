<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>анкета</p>
    <script>

        var question = confirm('Хотите заполнить анкету?');
        if (question) {
            var surname = prompt('Введите фамилию:');
            while (!surname || surname.trim().length < 2 || !/^[А-ЯЁ][а-яё]*-?[а-яё]*$/.test(surname.trim())) {
                if (surname === null) {
                    surname = prompt('Поле не может быть пустым. Введите фамилию:');
                } else if (surname.trim() === "")  {
                    surname = prompt('Поле не может быть пустым. Введите фамилию:');
                } else {
                    surname = prompt('Фамилия должна начинаться с заглавной буквы, быть на кириллице и может содержать дефис. Введите вашу фамилию:');
                }
            }
            
            var name = prompt('Введите имя:');
            while (!name || name.trim().length < 2 || !/^[А-ЯЁ][а-яё]*-?[а-яё]*$/.test(name.trim())) {
                if (name === null) {
                    name = prompt('Поле не может быть пустым. Введите имя:');
                } else if (name.trim() === "") {
                    name = prompt('Поле не может быть пустым. Введите имя:');
                } else {
                    name = prompt('Имя должно начинаться с заглавной буквы, быть на кириллице и может содержать дефис. Введите имя:');
                } 
            }
            
            var pname = prompt('Введите отчество:');
            while (!pname || pname.trim().length < 2 || !/^[А-ЯЁ][а-яё]*-?[а-яё]*$/.test(pname.trim())) {
                if (pname === null) {
                    pname = prompt('Поле не может быть пустым. Введите отчество:');
                } else if (pname.trim() === "") {
                    pname = prompt('Поле не может быть пустым. Введите отчество:');
                } else {
                    pname = prompt('Отчество должно начинаться с заглавной буквы, быть на кириллице и может содержать дефис. Введите отчество:');
                }
            }

            var ageStr = prompt('Введите ваш возраст:');
            var age = parseInt(ageStr);
            while (isNaN(age) || age >= 120) {
                if (ageStr === null) {
                    ageStr = prompt('Поле не может быть пустым. Введите ваш возраст:');
                } else if (isNaN(age)) {
                    ageStr = prompt('Введите ваш возраст цифрами:');
                } else {
                    ageStr = prompt('Анкета только для тех, кому меньше 120 лет. Введите ваш возраст:');
                }
                age = parseInt(ageStr);
            }

            var gender = confirm('Выберите пол ("ОК"-"М" или "Отмена"-"Ж"):');
            var sex = gender ? 'М' : 'Ж';

            var a = 'ваше ФИО: ' + surname + ' ' + name + ' ' + pname + '\n' +
                    'ваш возраст в годах: ' + age + '\n' +
                    'ваш возраст в днях: ' + (age * 365) + '\n' +
                    'через 5 лет вам будет: ' + (age + 5) + '\n' +
                    'ваш пол: ' + sex + '\n' +
                    'вы на пенсии: ';
            var b = (age < 58) ? 'нет' : 'да';
            var c = (age < 63) ? 'нет' : 'да';    

            var alertMsg = (sex === 'М') ? (a + c) : (a + b);
            alert(alertMsg);

        } else {
            console.log('отказ');
        }
        
    </script>
</body>
</html>