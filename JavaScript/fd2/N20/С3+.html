<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        function deepComp(val1, val2) {
            if (typeof val1 === 'number' && typeof val2 === 'number' && val1 !== val1 && val2 !== val2) {
                return true;
            }

            if (val1 === null && val2 === null) {
                return true;
            }

            if ((val1 === null || val1 === undefined) && (val2 === null || val2 === undefined)) {
                return val1 === val2;
            }

            if (Array.isArray(val1) && Array.isArray(val2)) {
                if (val1.length !== val2.length) {
                    return false;
                }
                for (let i = 0; i < val1.length; i++) {
                    if (!deepComp(val1[i], val2[i])) {
                        return false;
                    }
                }
                return true;
            }

            if (typeof val1 !== typeof val2) {
                return false;
            }

            if ((typeof val1 !== 'object' || Array.isArray(val1)) && (typeof val2 !== 'object' || Array.isArray(val2))) {
                return val1 === val2;
            }

            if (val1 === null || val2 === null || val1 === undefined || val2 === undefined) {
                return false;
            }

            const keys1 = Object.keys(val1).sort();
            const keys2 = Object.keys(val2).sort();
            if (keys1.length !== keys2.length) {
                return false;
            }

            for (let i = 0; i < keys1.length; i++) {
                const key = keys1[i];
                if (key !== keys2[i] || !deepComp(val1[key], val2[key])) {
                    return false;
                }
            }

            return true;
        }


        var H1 = { a: 5, b: { b1: 6, b2: 7 } };
        var H2 = { b: { b1: 6, b2: 7 }, a: 5 };
        var H3 = { a: 5, b: { b1: 6 } };
        var H4 = { a: 5, b: { b1: 66, b2: 7 } };
        var H5 = { a: 5, b: { b1: 6, b2: 7, b3: 8 } };
        var H6 = { a: null, b: undefined, c: Number.NaN };
        var H7 = { c: Number.NaN, b: undefined, a: null };
        var H8 = { a: 5, b: 6 };
        var H9 = { c: 5, d: 6 };
        var H10 = { a: 5 };
        var A1 = [5, 7];
        var A2 = [5, 5, 7];
        var A3 = [5, 8, 7];

        const TestPattern = [
            { name: 'H1===H2', result: deepComp(H1, H2), expResult: true },
            { name: 'H1===H3', result: deepComp(H1, H3), expResult: false },
            { name: 'H1===H4', result: deepComp(H1, H4), expResult: false },
            { name: 'H1===H5', result: deepComp(H1, H5), expResult: false },
            { name: 'H6===H7', result: deepComp(H6, H7), expResult: true },
            { name: 'H8===H9', result: deepComp(H8, H9), expResult: false },
            { name: 'H8===H10', result: deepComp(H8, H10), expResult: false },
            { name: 'null===H10', result: deepComp(null, H10), expResult: false },
            { name: 'H10===null', result: deepComp(H10, null), expResult: false },
            { name: 'null===null', result: deepComp(null, null), expResult: true },
            { name: 'null===undefined', result: deepComp(null, undefined), expResult: false },
            { name: '5==="5"', result: deepComp(5, "5"), expResult: false },
            { name: '5===H1', result: deepComp(5, H1), expResult: false },
            { name: 'A1===H1', result: deepComp(A1, H1), expResult: false },
            { name: 'A2===A3', result: deepComp(A2, A3), expResult: false },
            { name: '{a:5,b:undefined}==={a:5,c:undefined}', result: deepComp({ a: 5, b: undefined }, { a: 5, c: undefined }), expResult: false },
            { name: '[5,7]==={0:5,1:7}', result: deepComp([5, 7], { 0: 5, 1: 7 }), expResult: false },
            { name: '[5,7]==={0:5,1:7,length:2}', result: deepComp([5, 7], { 0: 5, 1: 7, length: 2 }), expResult: false },
            { name: '"aaa"==="bbb"', result: deepComp("aaa", "bbb"), expResult: false },
            { name: 'NaN===NaN', result: deepComp(Number.NaN, Number.NaN), expResult: true }
        ];

        compare(TestPattern);

        function compare(testPattern) {
            let testCount = 0;
            let passedCount = 0;
            let failedCount = 0;

            testPattern.forEach(test => {
                testCount++;
                const testResult = test.result === test.expResult ? 'пройден' : 'ПРОВАЛЕН';
                console.log(test.name);
                if (testResult === 'пройден') {
                    passedCount++;
                } else {
                    failedCount++;
                }
                console.log(`ТЕСТ: ${test.name}: ${test.result} => ${test.expResult} - ${testResult}`);
            });

            console.log(`Всего тестов: ${testCount}`);
            console.log(`пройдено: ${passedCount}`);
            console.log(`ПРОВАЛЕНО: ${failedCount}`);
        };
    </script>
</body>

</html>