<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>drag&amp;drop</title>
    <style>
        img {
            cursor: grab;
        }

        img.dragging {
            cursor: grabbing;
        }
    </style>
</head>

<body style="min-height: 100vh">
    <img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
    <img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
    <img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
    <img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">
    <img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
    <img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
    <img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
    <img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">
    <img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
    <img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
    <img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
    <img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">
    <img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
    <img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
    <img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
    <img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">
    <img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
    <img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
    <img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
    <img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">
    <img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
    <img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
    <img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
    <img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">
    <img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
    <img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
    <img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
    <img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">
    <img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
    <img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
    <img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
    <img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">
    <img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
    <img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
    <img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
    <img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">
    <img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
    <img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
    <img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
    <img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">
    <img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
    <img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
    <img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
    <img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">
    <img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
    <img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
    <img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
    <img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">
    <img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
    <img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
    <img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
    <img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">
    <img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
    <img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
    <img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
    <img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">
    <img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
    <img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
    <img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
    <img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">
    <img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
    <img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
    <img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
    <img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            let zIndex = 1; // базовое значение z-index

            const images = document.querySelectorAll('img');
            const coordinates = []; // массив объектов для хранения координат

            const getCoordinates = () => {
                images.forEach(img => {
                    // получение актуальных координат относительно документа
                    const rect = img.getBoundingClientRect();
                    const left = rect.left + window.scrollX;
                    const top = rect.top + window.scrollY;

                    // запись координат в массив объектов
                    coordinates.push({ left, top });
                });
            };

            const setPosition = () => {
                images.forEach((img, index) => {
                    // получение координат из массива
                    const { left, top } = coordinates[index];

                    // установка абсолютного позиционирования с текущими координатами
                    img.style.position = 'absolute';
                    img.style.left = `${left}px`;
                    img.style.top = `${top}px`;
                    img.style.zIndex = zIndex++;

                    // установка padding на 0px
                    img.style.padding = '0px';

                    img.addEventListener('mousedown', (e) => {
                        e.preventDefault();
                        const element = e.target;
                        const offsetX = e.clientX - element.getBoundingClientRect().left;
                        const offsetY = e.clientY - element.getBoundingClientRect().top;

                        // перенос кликнутого img наверх наращивая zIndex
                        element.style.zIndex = zIndex++;

                        const onMouseMove = (moveEvent) => {
                            const newLeft = moveEvent.clientX - offsetX + window.scrollX;
                            const newTop = moveEvent.clientY - offsetY + window.scrollY;
                            element.style.left = `${newLeft}px`;
                            element.style.top = `${newTop}px`;
                        };

                        const onMouseUp = () => {
                            document.removeEventListener('mousemove', onMouseMove);
                            document.removeEventListener('mouseup', onMouseUp);
                        };

                        document.addEventListener('mousemove', onMouseMove);
                        document.addEventListener('mouseup', onMouseUp);
                    });
                });
                console.log(coordinates);
            };

            window.onload = () => {
                getCoordinates();
                setPosition();
            };
        });
    </script>
</body>

</html>